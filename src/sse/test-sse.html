<!DOCTYPE html>
<html>
<head>
  <title>Test SSE Quiz</title>
</head>
<body>
  <h2>üéØ Classement en direct pour Quiz ID eb2dac12-8b9b-4896-8dc9-52ddf96bcbb0</h2>
  <pre id="output">En attente des donn√©es...</pre>

  <script>
    const quizId = 'eb2dac12-8b9b-4896-8dc9-52ddf96bcbb0';
    const clientId = 'client-' + Math.floor(Math.random() * 10000);
    const userId = 'user-1';

    const source = new EventSource(`http://localhost:3000/sse/${quizId}/ranking`, {
      withCredentials: false
    });

    source.onmessage = function(event) {
      const output = document.getElementById('output');
      const data = JSON.parse(event.data);
      output.textContent = JSON.stringify(data, null, 2);
    };

    source.onerror = function(err) {
      console.error("‚ùå Erreur SSE :", err);
    };
  </script>
</body>
</html>
